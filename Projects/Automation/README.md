# Its automation time

The gen.py script parses CSPICE.java using [ANTLR v4](https://www.antlr.org/).

## Building the Parser

You don't need to do this unless you want to make changes to the parser. To change the parser, you will need to set up the ANTLR build tool, as shown on the quickstart guide on the ANTLR homepage. Run:

```bash
antlr4 -Dlanguage=Python3 Declarations.g4 -no-listener
```

## Running the Parser

To run the parser, you will need the ANTLR4 python runtime library, available from PIP with:

```
pip install antlr4-python3-runtime
```

You can then run the parser with `./gen.py` or `python3 gen.py`. You don't need the ANTLR build tool if you only want to run the parser, not build it.

## Other

Don't touch the DeclarationsLexer.py and DeclarationsParser.py files, since those are generated by ANTLR. If you do touch them you'll have to rebuild the parser.

Currently gen.py doesn't do anything with the parsed declarations, other than print out the first signature to show that it's working.

## TODO

- GFSearchUtils and GFScalarThingamuhbob
- do we need default constructors?
    - its easier if we don't because currently, CSPICE functions with no args....
    - well we should probably treat no-arg functions special anyway. uhhhh